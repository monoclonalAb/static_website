---
title: "Taking-Maximum-Energy-From-the-Mystic-Dungeon"
question_id: "3147"
question_link: "https://leetcode.com/problems/taking-maximum-energy-from-the-mystic-dungeon/"
difficulty: "Medium"
---

Simply treat the original `energy` vector as a `dp` array, where the recursive equation is:

```cpp
dp[i] = dp[i+k] + energy[i]
```

Thus, we can simply iterate through `energy` in reverse,
checking if index `i+k` exists before adding it to `energy[i]` and greedily selecting the largest value as our `ans`.

```cpp
for (int i = n-1; i >= 0; --i) {
    if (i+k < n) {
        energy[i] += energy[i+k];
    }
    ans = max(ans, energy[i]);
}
```

# cod<span>e</span>

```{.cpp}
class Solution {
public:
    int maximumEnergy(vector<int>& energy, int k) {
        int n = energy.size();
        int ans = INT32_MIN;
        
        for (int i = n-1; i >= 0; --i) {
            if (i+k < n) {
                energy[i] += energy[i+k];
            }
            ans = max(ans, energy[i]);
        }

        return ans;
    }
};
```

## complexit<span>y</span>

:::sidebar
- Time: `O(n)` where `n` denotes the number of elements inside `energy`
- Space: `O(1)`
:::

## time take<span>n</span>

:::sidebar
- 5 minutes and 9 seconds
:::
